!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactSticky=e(require("react"),require("react-dom")):t.ReactSticky=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Channel=e.StickyContainer=e.Sticky=void 0;var i=n(5),r=o(i),c=n(4),a=o(c),u=n(1),s=o(u);e.Sticky=r.default,e.StickyContainer=a.default,e.Channel=s.default,e.default=r.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){n(this,t);var o=[];e=e||{},this.subscribe=function(t){o.push(t)},this.unsubscribe=function(t){var e=o.indexOf(t);e!==-1&&o.splice(e,1)},this.update=function(t){t&&t(e),o.forEach(function(t){return t(e)})}};e.default=o,t.exports=e.default},function(t,e,n){t.exports=n(8)()},function(e,n){e.exports=t},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(3),s=o(u),f=n(2),l=o(f),p=n(9),h=o(p),d=n(1),y=o(d),v=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.updateOffset=function(t){var e=t.inherited,o=t.offset;n.channel.update(function(t){t.inherited=e+o})},n.channel=new y.default({inherited:0,offset:0,node:null}),n.rect={},n}return c(e,t),a(e,[{key:"getChildContext",value:function(){return{"sticky-channel":this.channel}}},{key:"componentWillMount",value:function(){var t=this.context["sticky-channel"];t&&t.subscribe(this.updateOffset)}},{key:"componentDidMount",value:function(){var t=h.default.findDOMNode(this);this.channel.update(function(e){e.node=t}),this.rect=t.getBoundingClientRect()}},{key:"componentWillUnmount",value:function(){this.channel.update(function(t){t.node=null});var t=this.context["sticky-channel"];t&&t.unsubscribe(this.updateOffset)}},{key:"componentDidUpdate",value:function(){var t=this,e=h.default.findDOMNode(this),n=e.getBoundingClientRect(),o=["top","bottom","left","right"].every(function(e){return n.hasOwnProperty(e)&&n[e]===t.rect[e]});return this.rect=n,!o&&this.channel.update(function(t){t.node=e})}},{key:"render",value:function(){return s.default.createElement("div",this.props,this.props.children)}}]),e}(s.default.Component);v.contextTypes={"sticky-channel":l.default.any},v.childContextTypes={"sticky-channel":l.default.any},e.default=v,t.exports=e.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=n(3),p=o(l),h=n(2),d=o(h),y=function(t){function e(t){c(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return v.call(n),n.state={},n}return u(e,t),f(e,[{key:"componentWillMount",value:function(){this.channel=this.context["sticky-channel"],this.channel.subscribe(this.updateContext)}},{key:"componentDidMount",value:function(){this.on(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.onEvent),this.recomputeState()}},{key:"componentWillReceiveProps",value:function(t){this.recomputeState(t)}},{key:"componentWillUnmount",value:function(){this.off(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.onEvent),this.channel.unsubscribe(this.updateContext)}},{key:"getXOffset",value:function(){return this.placeholder.getBoundingClientRect().left}},{key:"getWidth",value:function(){return this.placeholder.getBoundingClientRect().width}},{key:"getHeight",value:function(){return this.children.getBoundingClientRect().height}},{key:"getPlaceholderRect",value:function(){return this.placeholder.getBoundingClientRect()}},{key:"getContainerRect",value:function(){return this.containerNode?this.containerNode.getBoundingClientRect():{top:0,bottom:0}}},{key:"isStickyBottom",value:function(t,e){var n=t.bottomOffset,o=e.containerOffset,i=e.height,r=e.placeholderTop,c=e.winHeight,a=o-n,u=r+i;return u>=c-a}},{key:"isStickyTop",value:function(t,e){var n=e.placeholderTop,o=e.containerOffset-t.topOffset,i=e.containerOffset+t.bottomOffset;return n<=o&&e.containerBottom>=i}},{key:"isSticky",value:function(t,e){return!!t.isActive&&("top"===t.position?this.isStickyTop(t,e):this.isStickyBottom(t,e))}},{key:"on",value:function(t,e){t.forEach(function(t){window.addEventListener(t,e)})}},{key:"off",value:function(t,e){t.forEach(function(t){window.removeEventListener(t,e)})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this,o=Object.keys(this.props);if(Object.keys(t).length!=o.length)return!0;var i=o.every(function(e){return t.hasOwnProperty(e)&&t[e]===n.props[e]});if(!i)return!0;var r=this.state;if(e.isSticky!==r.isSticky)return!0;if(r.isSticky){if(e.height!==r.height)return!0;if(e.width!==r.width)return!0;if(e.xOffset!==r.xOffset)return!0;if(e.placeholderTop!==r.placeholderTop)return!0}return e.containerOffset!==r.containerOffset||(e.containerBottom!==r.containerBottom||e.containerTop!==r.containerTop)}},{key:"getPositionOffset",value:function(){var t=this.state,e=t.containerOffset,n=t.containerTop,o=t.containerBottom,i=t.height,r=this.props,c=r.bottomOffset,a=r.position,u=r.topOffset,s=o-i-c,f=window.innerHeight-n-u;return"top"===a?Math.min(e,s):Math.min(e,f)}},{key:"render",value:function(){var t,e=this.props,n=e.className,o=(e.bottomOffset,e.isActive,e.onStickyStateChange,e.position),c=e.stickyClassName,a=e.stickyStyle,u=e.style,f=(e.topOffset,r(e,["className","bottomOffset","isActive","onStickyStateChange","position","stickyClassName","stickyStyle","style","topOffset"])),l=this.state,h=l.isSticky,d=l.height,y=l.width,v=l.xOffset,m={paddingBottom:h?d:0},b=n+" "+(h?c:""),g=h&&s((t={position:"fixed"},i(t,o,this.getPositionOffset()),i(t,"left",v),i(t,"width",y),t),a),O=s({transform:"translateZ(0)"},u,g||{});return p.default.createElement("div",null,p.default.createElement("div",{ref:this.setPlaceholderRef,style:m}),p.default.createElement("div",s({},f,{ref:this.setChildrenRef,className:b,style:O}),this.props.children))}}]),e}(p.default.Component);y.propTypes={isActive:d.default.bool,className:d.default.string,position:d.default.oneOf(["top","bottom"]),style:d.default.object,stickyClassName:d.default.string,stickyStyle:d.default.object,topOffset:d.default.number,bottomOffset:d.default.number,onStickyStateChange:d.default.func},y.defaultProps={isActive:!0,className:"",position:"top",style:{},stickyClassName:"sticky",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){}},y.contextTypes={"sticky-channel":d.default.any};var v=function(){var t=this;this.onEvent=function(){t.recomputeState()},this.updateContext=function(e){var n=e.inherited,o=e.node;t.containerNode=o,t.recomputeState(t.props,n)},this.recomputeState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=s({},t.state,{height:t.getHeight(),width:t.getWidth(),xOffset:t.getXOffset(),containerOffset:n===!1?t.state.containerOffset:n,containerBottom:t.getContainerRect().bottom,containerTop:t.getContainerRect().top,placeholderTop:t.getPlaceholderRect().top,winHeight:window.innerHeight}),i=t.isSticky(e,o),r=s({},o,{isSticky:i}),c=t.state.isSticky!==i;t.setState(r,function(){c&&(t.channel&&t.channel.update(function(e){e.offset=i?t.state.height:0}),t.props.onStickyStateChange(i))})},this.setChildrenRef=function(e){t.children=e},this.setPlaceholderRef=function(e){t.placeholder=e}};e.default=y,t.exports=e.default},function(t,e){"use strict";function n(t){return function(){return t}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o,r,c,a,u){if(i(e),!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,o,r,c,a,u],l=0;s=new Error(e.replace(/%s/g,function(){return f[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var i=function(t){};t.exports=o},function(t,e,n){"use strict";var o=n(6),i=n(7);t.exports=function(){function t(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,n){t.exports=e}])});